{% extends 'base.html' %}

{% load static %}

{% block content%}

<section class="products section">
	<div class="container">
		<div class="row">
			<div class="col-md-3">
				<div class="widget">
					<h4 class="widget-title"></h4>
					<div class='category-wrap dropdown d-inline-block float-right'>
					
                    
				</div>
						
                    
	            </div>
				<div class="widget product-category">
					<h4 class="widget-title"></h4>
					<div class="panel-group commonAccordion" id="accordion" role="tablist" aria-multiselectable="true">
					  	<div class="panel panel-default">
						    <div class="panel-heading" role="tab" id="headingOne">
						      	<h4 class="panel-title">
						        	<a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
										Categories
						        	</a>
						      	</h4>
						    </div>
					    <div id="collapseOne" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingTwo">
							<div class="panel-body">
								<ul>{% for category in links %}
									<li><a href="{{category.get_url}}">{{ category.category_name}}</a></li>
									{% endfor %}
									
								</ul>
							</div>
					    </div>
					  </div>
					  <div class="panel panel-default">
					    <div class="panel-heading" role="tab" id="headingTwo">
					      <h4 class="panel-title">
					        <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
					         	Brands
					        </a>
					      </h4>
					    </div>
					    <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
					    	<div class="panel-body">
					     		<ul>{% for category in links %}
									<li><a href="{{category.get_url}}">{{ category.category_name}}</a></li>
									{% endfor %}
								</ul>
					    	</div>
					    </div>
					  </div>
					  <div class="panel panel-default">
					    <div class="panel-heading" role="tab" id="headingThree">
					      <h4 class="panel-title">
					        <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
					          	Filter
					        </a>
					      </h4>
					    </div>
					    <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
					    	<div class="panel-body">
					      		<ul>
									<li><a href="#!">Size</a></li>
									<li><a href="#!">Color</a></li>
									<li><a href="#!">Price</a></li>
									<li><a href="#!"></a></li>
								</ul>
					    	</div>
					    </div>
					  </div>
					</div>
					
				</div>
			</div>
			<div class="col-md-9">
				<div class="row">
					<div class="row">
                        {%for product in products%}
                        <div class="col-md-4">
                            <div class="product-item">
                                <div class="product-thumb">
                                    <span class="bage">Sale</span>
                                    <img class="img-responsive" src="{{product.images.url}}" alt="product-img" />
                                    <div class="preview-meta">
                                        <ul>
                                            <li>
                                                <span  data-toggle="modal" data-target="#product-modal">
                                                    <i class="tf-ion-ios-search-strong"></i>
                                                </span>
                                            </li>
                                            <li>
                                                <a href="#!" ><i class="tf-ion-ios-heart"></i></a>
                                            </li>
											{% if product.stock != 0 %}
                                            <li>
                                                <a href="{% url 'add_cart' product.id %}"><i class="tf-ion-android-cart"></i></a>
                                            </li>
											{% else %}
											
											{% endif %}
                                        </ul>
                                      </div>
                                </div>
                                <div class="product-content">
                                    <h4><a href="{{ product.get_url }}">{{product.product_name}}</a></h4>
                                    <p class="price">Rs.{{product.price}}</p>
                                </div>
                            </div>
                        </div>
                        {% endfor %}
				</div>		
			
					
					<nav aria-label="Page navigation example">
						{% if products.has_other_pages %}
						<ul class="pagination pg-black">
							{% if products.has_previous %}
						  <li class="page-item  ">
							<a class="page-link" href="?page={{ products.previous_page_number}}" tabindex="-1" style="color: black;">Previous</a>
						  </li>
						  {% else %}
						  <li class="page-item  ">
							<a class="page-link" href="#" tabindex="-1" style="color: black;"></a>
						  </li>
						  {% endif %}
						  
						 
						  {% for i in products.paginator.page_range %}
						  {% if products.number == i %}
						  
						  <li class="page-item active">
							<a class="page-link" style="background-color: black;">{{i}}<span class="sr-only">{{i}}</span></a>
						  </li>
						  {% else %}
						  <li class="page-item" style="color: black;"><a class="page-link" href="?page={{i}}" style="color: black;">{{i}}</a></li>
						  {% endif %}
						  {% endfor %}
						 
						 
						  {% if products.has_next %}
						  <li class="page-item  ">
							<a class="page-link" href="?page={{ products.next_page_number}}" tabindex="-1" style="color: black;">Next</a>
						  </li>
						 
						  {% else %}
						  <li class="page-item  ">
							<a class="page-link" href="#" tabindex="-1" style="color: black;"></a>
						  </li>
						  {% endif %}
						</ul>
					  </nav>
					{% endif %}
			
			</div>
		
		</div>
	</div>
</section>



{% endblock %}